(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const j={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},Te=8,de={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function me(r,e){return typeof r=="number"?r+e:r}function ee(r){if(typeof r=="string"){const e=/^(\d+)\s*(.*)$/g.exec(r);return{value:e?+e[1]:0,unit:(e==null?void 0:e[2])||void 0}}return{value:Number(r)}}function je(r){return String.fromCharCode(97+r%26)}const fe=2221e-19;function _e(r){return Math.floor(Math.log(Math.abs(r))/Math.LN10)}function P(r,e,n){return e/n.range*r}function Ge(r,e){const n=Math.pow(10,Te);return Math.round(r*n)/n}function $e(r){if(r===1)return r;function e(a,o){return a%o===0?o:e(o,a%o)}function n(a){return a*a+1}let t=2,s=2,i;if(r%2===0)return 2;do t=n(t)%r,s=n(n(s))%r,i=e(Math.abs(t-s),r);while(i===1);return i}function Fe(r,e,n){let t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s={high:e.high,low:e.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};s.valueRange=s.high-s.low,s.oom=_e(s.valueRange),s.step=Math.pow(10,s.oom),s.min=Math.floor(s.low/s.step)*s.step,s.max=Math.ceil(s.high/s.step)*s.step,s.range=s.max-s.min,s.numberOfSteps=Math.round(s.range/s.step);const a=P(r,s.step,s)<n,o=t?$e(s.range):0;if(t&&P(r,1,s)>=n)s.step=1;else if(t&&o<s.step&&P(r,o,s)>=n)s.step=o;else{let u=0;for(;;){if(a&&P(r,s.step,s)<=n)s.step*=2;else if(!a&&P(r,s.step/2,s)>=n){if(s.step/=2,t&&s.step%1!==0){s.step*=2;break}}else break;if(u++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}s.step=Math.max(s.step,fe);function c(u,m){return u===(u+=m)&&(u*=1+(m>0?fe:-2221e-19)),u}let h=s.min,d=s.max;for(;h+s.step<=s.low;)h=c(h,s.step);for(;d-s.step>=s.high;)d=c(d,-s.step);s.min=h,s.max=d,s.range=s.max-s.min;const f=[];for(let u=s.min;u<=s.max;u=c(u,s.step)){const m=Ge(u);m!==f[f.length-1]&&f.push(m)}return s.values=f,s}function _(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];for(let s=0;s<n.length;s++){const i=n[s],a=Object.getPrototypeOf(r);for(const o in i){if(a!==null&&o in a)continue;const c=i[o];typeof c=="object"&&c!==null&&!(c instanceof Array)?r[o]=_(r[o],c):r[o]=c}}return r}const xe=r=>r;function te(r,e){return Array.from({length:r},e?(n,t)=>e(t):()=>{})}function w(r,e){return r!==null&&typeof r=="object"&&Reflect.has(r,e)}function R(r){return r!==null&&isFinite(r)}function qe(r){return!r&&r!==0}function z(r){return R(r)?Number(r):void 0}function Re(r){return Array.isArray(r)?r.every(Array.isArray):!1}function Xe(r,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=0;r[n?"reduceRight":"reduce"]((s,i,a)=>e(i,t++,a),void 0)}function Ye(r,e){const n=Array.isArray(r)?r[e]:w(r,"data")?r.data[e]:null;return w(n,"meta")?n.meta:void 0}function be(r){return r==null||typeof r=="number"&&isNaN(r)}function Ue(r){return Array.isArray(r)&&r.every(e=>Array.isArray(e)||w(e,"data"))}function Ve(r){return typeof r=="object"&&r!==null&&(Reflect.has(r,"x")||Reflect.has(r,"y"))}function U(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";return Ve(r)&&w(r,e)?z(r[e]):z(r)}function Ae(r,e,n){e={...e,...n?n==="x"?e.axisX:e.axisY:{}};const t={high:e.high===void 0?-Number.MAX_VALUE:+e.high,low:e.low===void 0?Number.MAX_VALUE:+e.low},s=e.high===void 0,i=e.low===void 0;function a(o){if(!be(o))if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=Number(n&&w(o,n)?o[n]:o);s&&c>t.high&&(t.high=c),i&&c<t.low&&(t.low=c)}}return(s||i)&&a(r),(e.referenceValue||e.referenceValue===0)&&(t.high=Math.max(e.referenceValue,t.high),t.low=Math.min(e.referenceValue,t.low)),t.high<=t.low&&(t.low===0?t.high=1:t.low<0?t.high=0:(t.high>0||(t.high=1),t.low=0)),t}function He(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,s;const i={labels:(r.labels||[]).slice(),series:Ze(r.series,n,t)},a=i.labels.length;return Re(i.series)?(s=Math.max(a,...i.series.map(o=>o.length)),i.series.forEach(o=>{o.push(...te(Math.max(0,s-o.length)))})):s=i.series.length,i.labels.push(...te(Math.max(0,s-a),()=>"")),e&&We(i),i}function We(r){var e;(e=r.labels)===null||e===void 0||e.reverse(),r.series.reverse();for(const n of r.series)w(n,"data")?n.data.reverse():Array.isArray(n)&&n.reverse()}function Qe(r,e){let n,t;if(typeof r!="object"){const s=z(r);e==="x"?n=s:t=s}else w(r,"x")&&(n=z(r.x)),w(r,"y")&&(t=z(r.y));if(!(n===void 0&&t===void 0))return{x:n,y:t}}function ye(r,e){if(!be(r))return e?Qe(r,e):z(r)}function ne(r,e){return Array.isArray(r)?r.map(n=>w(n,"value")?ye(n.value,e):ye(n,e)):ne(r.data,e)}function Ze(r,e,n){if(Ue(r))return r.map(s=>ne(s,e));const t=ne(r,e);return n?t.map(s=>[s]):t}function Je(r,e,n){const t={increasingX:!1,fillHoles:!1,...n},s=[];let i=!0;for(let a=0;a<r.length;a+=2)U(e[a/2].value)===void 0?t.fillHoles||(i=!0):(t.increasingX&&a>=2&&r[a]<=r[a-2]&&(i=!0),i&&(s.push({pathCoordinates:[],valueData:[]}),i=!1),s[s.length-1].pathCoordinates.push(r[a],r[a+1]),s[s.length-1].valueData.push(e[a/2]));return s}function ge(r){let e="";return r==null?r:(typeof r=="number"?e=""+r:typeof r=="object"?e=JSON.stringify({data:r}):e=String(r),Object.keys(de).reduce((n,t)=>n.replaceAll(t,de[t]),e))}class Ke{call(e,n){return this.svgElements.forEach(t=>Reflect.apply(t[e],t,n)),this}attr(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("attr",n)}elem(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("elem",n)}root(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("root",n)}getNode(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("getNode",n)}foreignObject(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("foreignObject",n)}text(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("text",n)}empty(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("empty",n)}remove(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("remove",n)}addClass(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("addClass",n)}removeClass(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("removeClass",n)}removeAllClasses(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("removeAllClasses",n)}animate(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.call("animate",n)}constructor(e){this.svgElements=[];for(let n=0;n<e.length;n++)this.svgElements.push(new S(e[n]))}}const Ce={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function pe(r,e,n){let t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;const{easing:i,...a}=n,o={};let c,h;i&&(c=Array.isArray(i)?i:Ce[i]),a.begin=me(a.begin,"ms"),a.dur=me(a.dur,"ms"),c&&(a.calcMode="spline",a.keySplines=c.join(" "),a.keyTimes="0;1"),t&&(a.fill="freeze",o[e]=a.from,r.attr(o),h=ee(a.begin||0).value,a.begin="indefinite");const d=r.elem("animate",{attributeName:e,...a});t&&setTimeout(()=>{try{d._node.beginElement()}catch{o[e]=a.to,r.attr(o),d.remove()}},h);const f=d.getNode();s&&f.addEventListener("beginEvent",()=>s.emit("animationBegin",{element:r,animate:f,params:n})),f.addEventListener("endEvent",()=>{s&&s.emit("animationEnd",{element:r,animate:f,params:n}),t&&(o[e]=a.to,r.attr(o),d.remove())})}class S{attr(e,n){return typeof e=="string"?n?this._node.getAttributeNS(n,e):this._node.getAttribute(e):(Object.keys(e).forEach(t=>{if(e[t]!==void 0)if(t.indexOf(":")!==-1){const s=t.split(":");this._node.setAttributeNS(j[s[0]],t,String(e[t]))}else this._node.setAttribute(t,String(e[t]))}),this)}elem(e,n,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return new S(e,n,t,this,s)}parent(){return this._node.parentNode instanceof SVGElement?new S(this._node.parentNode):null}root(){let e=this._node;for(;e.nodeName!=="svg"&&e.parentElement;)e=e.parentElement;return new S(e)}querySelector(e){const n=this._node.querySelector(e);return n?new S(n):null}querySelectorAll(e){const n=this._node.querySelectorAll(e);return new Ke(n)}getNode(){return this._node}foreignObject(e,n,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;if(typeof e=="string"){const o=document.createElement("div");o.innerHTML=e,i=o.firstChild}else i=e;i instanceof Element&&i.setAttribute("xmlns",j.xmlns);const a=this.elem("foreignObject",n,t,s);return a._node.appendChild(i),a}text(e){return this._node.appendChild(document.createTextNode(e)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var e;return(e=this._node.parentNode)===null||e===void 0||e.removeChild(this._node),this.parent()}replace(e){var n;return(n=this._node.parentNode)===null||n===void 0||n.replaceChild(e._node,this._node),e}append(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}classes(){const e=this._node.getAttribute("class");return e?e.trim().split(/\s+/):[]}addClass(e){return this._node.setAttribute("class",this.classes().concat(e.trim().split(/\s+/)).filter(function(n,t,s){return s.indexOf(n)===t}).join(" ")),this}removeClass(e){const n=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter(t=>n.indexOf(t)===-1).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.clientHeight}width(){return this._node.clientWidth}animate(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=arguments.length>2?arguments[2]:void 0;return Object.keys(e).forEach(s=>{const i=e[s];Array.isArray(i)?i.forEach(a=>pe(this,s,a,!1,t)):pe(this,s,i,n,t)}),this}constructor(e,n,t,s,i=!1){e instanceof Element?this._node=e:(this._node=document.createElementNS(j.svg,e),e==="svg"&&this.attr({"xmlns:ct":j.ct})),n&&this.attr(n),t&&this.addClass(t),s&&(i&&s._node.firstChild?s._node.insertBefore(this._node,s._node.firstChild):s._node.appendChild(this._node))}}S.Easing=Ce;function et(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"100%",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"100%",t=arguments.length>3?arguments[3]:void 0;if(!r)throw new Error("Container element is not found");Array.from(r.querySelectorAll("svg")).filter(i=>i.getAttributeNS(j.xmlns,"ct")).forEach(i=>r.removeChild(i));const s=new S("svg").attr({width:e,height:n}).attr({style:"width: ".concat(e,"; height: ").concat(n,";")});return t&&s.addClass(t),r.appendChild(s.getNode()),s}function tt(r){return typeof r=="number"?{top:r,right:r,bottom:r,left:r}:r===void 0?{top:0,right:0,bottom:0,left:0}:{top:typeof r.top=="number"?r.top:0,right:typeof r.right=="number"?r.right:0,bottom:typeof r.bottom=="number"?r.bottom:0,left:typeof r.left=="number"?r.left:0}}function nt(r,e){var n,t,s,i;const a=!!(e.axisX||e.axisY),o=((n=e.axisY)===null||n===void 0?void 0:n.offset)||0,c=((t=e.axisX)===null||t===void 0?void 0:t.offset)||0,h=(s=e.axisY)===null||s===void 0?void 0:s.position,d=(i=e.axisX)===null||i===void 0?void 0:i.position;let f=r.width()||ee(e.width).value||0,u=r.height()||ee(e.height).value||0;const m=tt(e.chartPadding);f=Math.max(f,o+m.left+m.right),u=Math.max(u,c+m.top+m.bottom);const l={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return a?(d==="start"?(l.y2=m.top+c,l.y1=Math.max(u-m.bottom,l.y2+1)):(l.y2=m.top,l.y1=Math.max(u-m.bottom-c,l.y2+1)),h==="start"?(l.x1=m.left+o,l.x2=Math.max(f-m.right,l.x1+1)):(l.x1=m.left,l.x2=Math.max(f-m.right-o,l.x1+1))):(l.x1=m.left,l.x2=Math.max(f-m.right,l.x1+1),l.y2=m.top,l.y1=Math.max(u-m.bottom,l.y2+1)),l}function st(r,e,n,t,s,i,a,o){const c={["".concat(n.units.pos,"1")]:r,["".concat(n.units.pos,"2")]:r,["".concat(n.counterUnits.pos,"1")]:t,["".concat(n.counterUnits.pos,"2")]:t+s},h=i.elem("line",c,a.join(" "));o.emit("draw",{type:"grid",axis:n,index:e,group:i,element:h,...c})}function rt(r,e,n,t){const s=r.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},n,!0);t.emit("draw",{type:"gridBackground",group:r,element:s})}function it(r,e,n,t,s,i,a,o,c,h){const d={[s.units.pos]:r+a[s.units.pos],[s.counterUnits.pos]:a[s.counterUnits.pos],[s.units.len]:e,[s.counterUnits.len]:Math.max(0,i-10)},f=Math.round(d[s.units.len]),u=Math.round(d[s.counterUnits.len]),m=document.createElement("span");m.className=c.join(" "),m.style[s.units.len]=f+"px",m.style[s.counterUnits.len]=u+"px",m.textContent=String(t);const l=o.foreignObject(m,{style:"overflow: visible;",...d});h.emit("draw",{type:"label",axis:s,index:n,group:o,element:l,text:t,...d})}function ve(r,e,n){let t;const s=[];function i(o){const c=t;t=_({},r),e&&e.forEach(h=>{window.matchMedia(h[0]).matches&&(t=_({},t,h[1]))}),n&&o&&n.emit("optionsChanged",{previousOptions:c,currentOptions:t})}function a(){s.forEach(o=>o.removeEventListener("change",i))}if(window.matchMedia)e&&e.forEach(o=>{const c=window.matchMedia(o[0]);c.addEventListener("change",i),s.push(c)});else throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return i(),{removeMediaQueryListeners:a,getCurrentOptions(){return t}}}const se={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},at={accuracy:3};function q(r,e,n,t,s,i){const a={command:s?r.toLowerCase():r.toUpperCase(),...e,...i?{data:i}:{}};n.splice(t,0,a)}function Q(r,e){r.forEach((n,t)=>{se[n.command.toLowerCase()].forEach((s,i)=>{e(n,s,t,i,r)})})}class L{static join(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2?arguments[2]:void 0;const s=new L(n,t);for(let i=0;i<e.length;i++){const a=e[i];for(let o=0;o<a.pathElements.length;o++)s.pathElements.push(a.pathElements[o])}return s}position(e){return e!==void 0?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}remove(e){return this.pathElements.splice(this.pos,e),this}move(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0;return q("M",{x:+e,y:+n},this.pathElements,this.pos++,t,s),this}line(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0;return q("L",{x:+e,y:+n},this.pathElements,this.pos++,t,s),this}curve(e,n,t,s,i,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,c=arguments.length>7?arguments[7]:void 0;return q("C",{x1:+e,y1:+n,x2:+t,y2:+s,x:+i,y:+a},this.pathElements,this.pos++,o,c),this}arc(e,n,t,s,i,a,o){let c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,h=arguments.length>8?arguments[8]:void 0;return q("A",{rx:e,ry:n,xAr:t,lAf:s,sf:i,x:a,y:o},this.pathElements,this.pos++,c,h),this}parse(e){const n=e.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((s,i)=>(i.match(/[A-Za-z]/)&&s.push([]),s[s.length-1].push(i),s),[]);n[n.length-1][0].toUpperCase()==="Z"&&n.pop();const t=n.map(s=>{const i=s.shift(),a=se[i.toLowerCase()];return{command:i,...a.reduce((o,c,h)=>(o[c]=+s[h],o),{})}});return this.pathElements.splice(this.pos,0,...t),this.pos+=t.length,this}stringify(){const e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce((n,t)=>{const s=se[t.command.toLowerCase()].map(i=>{const a=t[i];return this.options.accuracy?Math.round(a*e)/e:a});return n+t.command+s.join(",")},"")+(this.close?"Z":"")}scale(e,n){return Q(this.pathElements,(t,s)=>{t[s]*=s[0]==="x"?e:n}),this}translate(e,n){return Q(this.pathElements,(t,s)=>{t[s]+=s[0]==="x"?e:n}),this}transform(e){return Q(this.pathElements,(n,t,s,i,a)=>{const o=e(n,t,s,i,a);(o||o===0)&&(n[t]=o)}),this}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=new L(e||this.close);return n.pos=this.pos,n.pathElements=this.pathElements.slice().map(t=>({...t})),n.options={...this.options},n}splitByCommand(e){const n=[new L];return this.pathElements.forEach(t=>{t.command===e.toUpperCase()&&n[n.length-1].pathElements.length!==0&&n.push(new L),n[n.length-1].pathElements.push(t)}),n}constructor(e=!1,n){this.close=e,this.pathElements=[],this.pos=0,this.options={...at,...n}}}function re(r){const e={fillHoles:!1,...r};return function(t,s){const i=new L;let a=!0;for(let o=0;o<t.length;o+=2){const c=t[o],h=t[o+1],d=s[o/2];U(d.value)!==void 0?(a?i.move(c,h,!1,d):i.line(c,h,!1,d),a=!1):e.fillHoles||(a=!0)}return i}}function ot(r){const e={fillHoles:!1,...r};return function n(t,s){const i=Je(t,s,{fillHoles:e.fillHoles,increasingX:!0});if(i.length){if(i.length>1)return L.join(i.map(a=>n(a.pathCoordinates,a.valueData)));{if(t=i[0].pathCoordinates,s=i[0].valueData,t.length<=4)return re()(t,s);const a=[],o=[],c=t.length/2,h=[],d=[],f=[],u=[];for(let l=0;l<c;l++)a[l]=t[l*2],o[l]=t[l*2+1];for(let l=0;l<c-1;l++)f[l]=o[l+1]-o[l],u[l]=a[l+1]-a[l],d[l]=f[l]/u[l];h[0]=d[0],h[c-1]=d[c-2];for(let l=1;l<c-1;l++)d[l]===0||d[l-1]===0||d[l-1]>0!=d[l]>0?h[l]=0:(h[l]=3*(u[l-1]+u[l])/((2*u[l]+u[l-1])/d[l-1]+(u[l]+2*u[l-1])/d[l]),isFinite(h[l])||(h[l]=0));const m=new L().move(a[0],o[0],!1,s[0]);for(let l=0;l<c-1;l++)m.curve(a[l]+u[l]/3,o[l]+h[l]*u[l]/3,a[l+1]-u[l]/3,o[l+1]-h[l+1]*u[l]/3,a[l+1],o[l+1],!1,s[l+1]);return m}}else return re()([],[])}}class lt{on(e,n){const{allListeners:t,listeners:s}=this;e==="*"?t.add(n):(s.has(e)||s.set(e,new Set),s.get(e).add(n))}off(e,n){const{allListeners:t,listeners:s}=this;if(e==="*")n?t.delete(n):t.clear();else if(s.has(e)){const i=s.get(e);n?i.delete(n):i.clear(),i.size||s.delete(e)}}emit(e,n){const{allListeners:t,listeners:s}=this;s.has(e)&&s.get(e).forEach(i=>i(n)),t.forEach(i=>i(e,n))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const Z=new WeakMap;class ct{update(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=_({},t?this.options:this.defaultOptions,n),!this.initializeTimeoutId)){var s;(s=this.optionsProvider)===null||s===void 0||s.removeMediaQueryListeners(),this.optionsProvider=ve(this.options,this.responsiveOptions,this.eventEmitter)}return!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){if(this.initializeTimeoutId)window.clearTimeout(this.initializeTimeoutId);else{var e;window.removeEventListener("resize",this.resizeListener),(e=this.optionsProvider)===null||e===void 0||e.removeMediaQueryListeners()}return Z.delete(this.container),this}on(e,n){return this.eventEmitter.on(e,n),this}off(e,n){return this.eventEmitter.off(e,n),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=ve(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",()=>this.update()),this.options.plugins&&this.options.plugins.forEach(e=>{Array.isArray(e)?e[0](this,e[1]):e(this)}),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(e,n,t,s,i){this.data=n,this.defaultOptions=t,this.options=s,this.responsiveOptions=i,this.eventEmitter=new lt,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout(()=>this.initialize(),0);const a=typeof e=="string"?document.querySelector(e):e;if(!a)throw new Error("Target element ".concat(typeof e=="string"?'"'.concat(e,'"'):""," is not found"));this.container=a;const o=Z.get(a);o&&o.detach(),Z.set(a,this)}}const k={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class oe{createGridAndLabels(e,n,t,s){const i=this.units.pos==="x"?t.axisX:t.axisY,a=this.ticks.map((c,h)=>this.projectValue(c,h)),o=this.ticks.map(i.labelInterpolationFnc);a.forEach((c,h)=>{const d=o[h],f={x:0,y:0};let u;a[h+1]?u=a[h+1]-c:u=Math.max(this.axisLength-c,this.axisLength/this.ticks.length),!(d!==""&&qe(d))&&(this.units.pos==="x"?(c=this.chartRect.x1+c,f.x=t.axisX.labelOffset.x,t.axisX.position==="start"?f.y=this.chartRect.padding.top+t.axisX.labelOffset.y+5:f.y=this.chartRect.y1+t.axisX.labelOffset.y+5):(c=this.chartRect.y1-c,f.y=t.axisY.labelOffset.y-u,t.axisY.position==="start"?f.x=this.chartRect.padding.left+t.axisY.labelOffset.x:f.x=this.chartRect.x2+t.axisY.labelOffset.x+10),i.showGrid&&st(c,h,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[t.classNames.grid,t.classNames[this.units.dir]],s),i.showLabel&&it(c,u,h,d,this,i.offset,f,n,[t.classNames.label,t.classNames[this.units.dir],i.position==="start"?t.classNames[i.position]:t.classNames.end],s))})}constructor(e,n,t){this.units=e,this.chartRect=n,this.ticks=t,this.counterUnits=e===k.x?k.y:k.x,this.axisLength=n[this.units.rectEnd]-n[this.units.rectStart],this.gridOffset=n[this.units.rectOffset]}}class ut extends oe{projectValue(e){const n=Number(U(e,this.units.pos));return this.axisLength*(n-this.bounds.min)/this.bounds.range}constructor(e,n,t,s){const i=s.highLow||Ae(n,s,e.pos),a=Fe(t[e.rectEnd]-t[e.rectStart],i,s.scaleMinSpace||20,s.onlyInteger),o={min:a.min,max:a.max};super(e,t,a.values),this.bounds=a,this.range=o}}class Se extends oe{projectValue(e){const n=Number(U(e,this.units.pos));return this.axisLength*(n-this.range.min)/(this.range.max-this.range.min)}constructor(e,n,t,s){const i=s.highLow||Ae(n,s,e.pos),a=s.divisor||1,o=(s.ticks||te(a,h=>i.low+(i.high-i.low)/a*h)).sort((h,d)=>Number(h)-Number(d)),c={min:i.low,max:i.high};super(e,t,o),this.range=c}}class ht extends oe{projectValue(e,n){return this.stepLength*n}constructor(e,n,t,s){const i=s.ticks||[];super(e,t,i);const a=Math.max(1,i.length-(s.stretch?1:0));this.stepLength=this.axisLength/a,this.stretch=!!s.stretch}}function T(r,e,n){var t;if(w(r,"name")&&r.name&&(!((t=e.series)===null||t===void 0)&&t[r.name])){const i=(e==null?void 0:e.series[r.name])[n];return i===void 0?e[n]:i}else return e[n]}const we={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:xe,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:xe,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class Le extends ct{createChart(e){const{data:n}=this,t=He(n,e.reverseData,!0),s=et(this.container,e.width,e.height,e.classNames.chart);this.svg=s;const i=s.elem("g").addClass(e.classNames.gridGroup),a=s.elem("g"),o=s.elem("g").addClass(e.classNames.labelGroup),c=nt(s,e);let h,d;e.axisX.type===void 0?h=new ht(k.x,t.series,c,{...e.axisX,ticks:t.labels,stretch:e.fullWidth}):h=new e.axisX.type(k.x,t.series,c,e.axisX),e.axisY.type===void 0?d=new ut(k.y,t.series,c,{...e.axisY,high:R(e.high)?e.high:e.axisY.high,low:R(e.low)?e.low:e.axisY.low}):d=new e.axisY.type(k.y,t.series,c,e.axisY),h.createGridAndLabels(i,o,e,this.eventEmitter),d.createGridAndLabels(i,o,e,this.eventEmitter),e.showGridBackground&&rt(i,c,e.classNames.gridBackground,this.eventEmitter),Xe(n.series,(f,u)=>{const m=a.elem("g"),l=w(f,"name")&&f.name,b=w(f,"className")&&f.className,D=w(f,"meta")?f.meta:void 0;l&&m.attr({"ct:series-name":l}),D&&m.attr({"ct:meta":ge(D)}),m.addClass([e.classNames.series,b||"".concat(e.classNames.series,"-").concat(je(u))].join(" "));const ue=[],he=[];t.series[u].forEach((v,y)=>{const p={x:c.x1+h.projectValue(v,y,t.series[u]),y:c.y1-d.projectValue(v,y,t.series[u])};ue.push(p.x,p.y),he.push({value:v,valueIndex:y,meta:Ye(f,y)})});const M={lineSmooth:T(f,e,"lineSmooth"),showPoint:T(f,e,"showPoint"),showLine:T(f,e,"showLine"),showArea:T(f,e,"showArea"),areaBase:T(f,e,"areaBase")};let W;typeof M.lineSmooth=="function"?W=M.lineSmooth:W=M.lineSmooth?ot():re();const $=W(ue,he);if(M.showPoint&&$.pathElements.forEach(v=>{const{data:y}=v,p=m.elem("line",{x1:v.x,y1:v.y,x2:v.x+.01,y2:v.y},e.classNames.point);if(y){let C,F;w(y.value,"x")&&(C=y.value.x),w(y.value,"y")&&(F=y.value.y),p.attr({"ct:value":[C,F].filter(R).join(","),"ct:meta":ge(y.meta)})}this.eventEmitter.emit("draw",{type:"point",value:y==null?void 0:y.value,index:(y==null?void 0:y.valueIndex)||0,meta:y==null?void 0:y.meta,series:f,seriesIndex:u,axisX:h,axisY:d,group:m,element:p,x:v.x,y:v.y,chartRect:c})}),M.showLine){const v=m.elem("path",{d:$.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.series[u],path:$.clone(),chartRect:c,index:u,series:f,seriesIndex:u,meta:D,axisX:h,axisY:d,group:m,element:v})}if(M.showArea&&d.range){const v=Math.max(Math.min(M.areaBase,d.range.max),d.range.min),y=c.y1-d.projectValue(v);$.splitByCommand("M").filter(p=>p.pathElements.length>1).map(p=>{const C=p.pathElements[0],F=p.pathElements[p.pathElements.length-1];return p.clone(!0).position(0).remove(1).move(C.x,y).line(C.x,C.y).position(p.pathElements.length+1).line(F.x,y)}).forEach(p=>{const C=m.elem("path",{d:p.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:t.series[u],path:p.clone(),series:f,seriesIndex:u,axisX:h,axisY:d,chartRect:c,index:u,group:m,element:C,meta:D})})}},e.reverseData),this.eventEmitter.emit("created",{chartRect:c,axisX:h,axisY:d,svg:s,options:e})}constructor(e,n,t,s){super(e,n,we,_({},we,t),s),this.data=n}}const Oe=[{x:15778368e5,y:1.475365126676601},{x:15778386e5,y:1.4613839285714267},{x:15778404e5,y:1.39827380952381},{x:15778422e5,y:1.3714434523809522},{x:1577844e6,y:1.3258928571428592},{x:15778458e5,y:1.284032738095238},{x:15778476e5,y:1.2462946428571438},{x:15778494e5,y:1.234330357142858},{x:15778512e5,y:1.2736011904761921},{x:1577853e6,y:1.2853273809523815},{x:15778548e5,y:1.3011160714285728},{x:15778566e5,y:1.3463839285714307},{x:15778584e5,y:1.4458184523809523},{x:15778602e5,y:1.598809523809523},{x:1577862e6,y:1.8209226190476202},{x:15778638e5,y:2.120029761904761},{x:15778656e5,y:2.3530208333333333},{x:15778674e5,y:2.4526934523809496},{x:15778692e5,y:2.4028124999999996},{x:1577871e6,y:2.3023809523809513},{x:15778728e5,y:2.1809970238095246},{x:15778746e5,y:2.0536755952380967},{x:15778764e5,y:1.9810119047619055},{x:15778782e5,y:1.9570238095238097},{x:157788e7,y:1.9530208333333348},{x:15778818e5,y:1.9209226190476199},{x:15778836e5,y:1.8462797619047617},{x:15778854e5,y:1.7970684523809501},{x:15778872e5,y:1.7496130952380955},{x:1577889e6,y:1.6922023809523787},{x:15778908e5,y:1.6657589285714274},{x:15778926e5,y:1.6710267857142862},{x:15778944e5,y:1.762752976190476},{x:15778962e5,y:1.942782738095237},{x:1577898e6,y:2.1783482142857133},{x:15778998e5,y:2.43078869047619},{x:15779016e5,y:2.5700744047619026},{x:15779034e5,y:2.625550595238099},{x:15779052e5,y:2.584181547619047},{x:1577907e6,y:2.487693452380954},{x:15779088e5,y:2.3813839285714273},{x:15779106e5,y:2.257351190476192},{x:15779124e5,y:2.1108482142857135},{x:15779142e5,y:1.9773660714285708},{x:1577916e6,y:1.9020684523809517},{x:15779178e5,y:1.7840178571428547},{x:15779196e5,y:1.6015029761904753},{x:15779214e5,y:1.4647916666666672},{x:15779232e5,y:1.475365126676601}],Me=[{x:15778368e5,y:2.1112700729927023},{x:15778386e5,y:2.316315789473687},{x:15778404e5,y:2.2909544787077847},{x:15778422e5,y:2.2269897209985317},{x:1577844e6,y:2.0390538573508015},{x:15778458e5,y:1.9082241630276569},{x:15778476e5,y:1.851578947368419},{x:15778494e5,y:1.8197514619883057},{x:15778512e5,y:2.0123830409356738},{x:1577853e6,y:2.1092105263157905},{x:15778548e5,y:2.0752192982456164},{x:15778566e5,y:2.0718713450292396},{x:15778584e5,y:2.131695906432746},{x:15778602e5,y:2.221959064327487},{x:1577862e6,y:2.2922660818713463},{x:15778638e5,y:2.4222222222222207},{x:15778656e5,y:2.4985526315789475},{x:15778674e5,y:2.5081286549707618},{x:15778692e5,y:2.4156432748538013},{x:1577871e6,y:2.313494152046784},{x:15778728e5,y:2.239605263157895},{x:15778746e5,y:2.1720760233918095},{x:15778764e5,y:2.1268421052631563},{x:15778782e5,y:2.11232456140351},{x:157788e7,y:2.12904970760234},{x:15778818e5,y:2.1099561403508744},{x:15778836e5,y:2.060263157894739},{x:15778854e5,y:2.0267543859649124},{x:15778872e5,y:1.9937719298245626},{x:1577889e6,y:1.9811403508771928},{x:15778908e5,y:1.9991520467836246},{x:15778926e5,y:2.0620467836257292},{x:15778944e5,y:2.212470760233917},{x:15778962e5,y:2.5186695906432743},{x:1577898e6,y:2.7765935672514597},{x:15778998e5,y:2.953494152046782},{x:15779016e5,y:2.9446198830409345},{x:15779034e5,y:2.8099707602339192},{x:15779052e5,y:2.6882602339181276},{x:1577907e6,y:2.588640350877196},{x:15779088e5,y:2.472558479532163},{x:15779106e5,y:2.356885964912282},{x:15779124e5,y:2.2416520467836265},{x:15779142e5,y:2.1311695906432746},{x:1577916e6,y:2.1274122807017535},{x:15779178e5,y:2.0797368421052647},{x:15779196e5,y:1.9393421052631565},{x:15779214e5,y:1.8715497076023384},{x:15779232e5,y:2.1112700729927023}],B=[{x:15778368e5,y:1.796600294985249},{x:15778386e5,y:1.8926327433628272},{x:15778404e5,y:1.8475831485587615},{x:15778422e5,y:1.802062084257208},{x:1577844e6,y:1.6864091243561454},{x:15778458e5,y:1.5995732155997082},{x:15778476e5,y:1.5516150442477914},{x:15778494e5,y:1.5296312684365772},{x:15778512e5,y:1.6462610619469022},{x:1577853e6,y:1.7009144542772885},{x:15778548e5,y:1.6915929203539881},{x:15778566e5,y:1.7123377581120973},{x:15778584e5,y:1.7917920353982288},{x:15778602e5,y:1.9131415929203495},{x:1577862e6,y:2.0586799410029526},{x:15778638e5,y:2.2724631268436584},{x:15778656e5,y:2.42643067846608},{x:15778674e5,y:2.4806563421828933},{x:15778692e5,y:2.409284660766962},{x:1577871e6,y:2.3079867256637216},{x:15778728e5,y:2.2105604719764003},{x:15778746e5,y:2.113399705014748},{x:15778764e5,y:2.054572271386432},{x:15778782e5,y:2.035361356932153},{x:157788e7,y:2.041814159292033},{x:15778818e5,y:2.016275811209435},{x:15778836e5,y:1.9542182890855457},{x:15778854e5,y:1.9129277286135706},{x:15778872e5,y:1.8727728613569352},{x:1577889e6,y:1.8379498525073765},{x:15778908e5,y:1.8339306784660796},{x:15778926e5,y:1.8682669616519174},{x:15778944e5,y:1.9896017699115092},{x:15778962e5,y:2.233274336283189},{x:1577898e6,y:2.480117994100298},{x:15778998e5,y:2.694454277286135},{x:15779016e5,y:2.7590044247787615},{x:15779034e5,y:2.7185766961651923},{x:15779052e5,y:2.6366814159292047},{x:1577907e6,y:2.5386135693215333},{x:15779088e5,y:2.4273746312684383},{x:15779106e5,y:2.3075589970501476},{x:15779124e5,y:2.176828908554573},{x:15779142e5,y:2.054948377581121},{x:1577916e6,y:2.015737463126842},{x:15779178e5,y:1.933185840707967},{x:15779196e5,y:1.771917404129796},{x:15779214e5,y:1.6699705014749273},{x:15779232e5,y:1.796600294985249}],Be=[{x:15778368e5,y:3.21},{x:15778386e5,y:3.27},{x:15778404e5,y:3.15},{x:15778422e5,y:3.04},{x:1577844e6,y:2.85},{x:15778458e5,y:2.85},{x:15778476e5,y:2.63},{x:15778494e5,y:2.57},{x:15778512e5,y:3.1},{x:1577853e6,y:3.07},{x:15778548e5,y:3.07},{x:15778566e5,y:3.11},{x:15778584e5,y:3.18},{x:15778602e5,y:3.29},{x:1577862e6,y:3.52},{x:15778638e5,y:3.78},{x:15778656e5,y:4.11},{x:15778674e5,y:4.25},{x:15778692e5,y:4.11},{x:1577871e6,y:4.04},{x:15778728e5,y:4.83},{x:15778746e5,y:5.25},{x:15778764e5,y:4.96},{x:15778782e5,y:5.58},{x:157788e7,y:6.02},{x:15778818e5,y:6.3},{x:15778836e5,y:5},{x:15778854e5,y:5.34},{x:15778872e5,y:5.37},{x:1577889e6,y:4.91},{x:15778908e5,y:4.8},{x:15778926e5,y:4.75},{x:15778944e5,y:6.58},{x:15778962e5,y:7.47},{x:1577898e6,y:7.44},{x:15778998e5,y:7.61},{x:15779016e5,y:7.37},{x:15779034e5,y:6.81},{x:15779052e5,y:6.12},{x:1577907e6,y:4.25},{x:15779088e5,y:3.9},{x:15779106e5,y:3.72},{x:15779124e5,y:3.42},{x:15779142e5,y:3.2},{x:1577916e6,y:3.39},{x:15779178e5,y:3.06},{x:15779196e5,y:2.77},{x:15779214e5,y:2.59}],Ne=[{x:15778368e5,y:1.07},{x:15778386e5,y:1.08},{x:15778404e5,y:1.12},{x:15778422e5,y:1.1},{x:1577844e6,y:1.06},{x:15778458e5,y:1.02},{x:15778476e5,y:1.01},{x:15778494e5,y:.98},{x:15778512e5,y:1.02},{x:1577853e6,y:1.03},{x:15778548e5,y:1.05},{x:15778566e5,y:1.08},{x:15778584e5,y:1.13},{x:15778602e5,y:1.23},{x:1577862e6,y:1.26},{x:15778638e5,y:1.34},{x:15778656e5,y:1.45},{x:15778674e5,y:1.49},{x:15778692e5,y:1.4},{x:1577871e6,y:1.35},{x:15778728e5,y:1.4},{x:15778746e5,y:1.33},{x:15778764e5,y:1.25},{x:15778782e5,y:1.27},{x:157788e7,y:1.22},{x:15778818e5,y:1.23},{x:15778836e5,y:1.24},{x:15778854e5,y:1.18},{x:15778872e5,y:1.17},{x:1577889e6,y:1.08},{x:15778908e5,y:1.08},{x:15778926e5,y:1.09},{x:15778944e5,y:1.14},{x:15778962e5,y:1.31},{x:1577898e6,y:1.5},{x:15778998e5,y:1.75},{x:15779016e5,y:1.8},{x:15779034e5,y:1.76},{x:15779052e5,y:1.74},{x:1577907e6,y:1.66},{x:15779088e5,y:1.6},{x:15779106e5,y:1.48},{x:15779124e5,y:1.42},{x:15779142e5,y:1.38},{x:1577916e6,y:1.28},{x:15779178e5,y:1.35},{x:15779196e5,y:1.23},{x:15779214e5,y:1.03}],dt=[{x:15778368e5,y:.8833560033974328},{x:15778386e5,y:.8974435757769449},{x:15778404e5,y:.8180674081661015},{x:15778422e5,y:.8150140378990215},{x:1577844e6,y:.8511808086901624},{x:15778458e5,y:.8509138348853221},{x:15778476e5,y:.8262899982877309},{x:15778494e5,y:.8267750699005103},{x:15778512e5,y:.6980400535891562},{x:1577853e6,y:.7396759142396357},{x:15778548e5,y:.766731132667119},{x:15778566e5,y:.8396227100298621},{x:15778584e5,y:.9189500549595101},{x:15778602e5,y:1.081676577555232},{x:1577862e6,y:1.2797907004898077},{x:15778638e5,y:1.5400851492750545},{x:15778656e5,y:1.7040910511289953},{x:15778674e5,y:1.817143427987616},{x:15778692e5,y:1.7813792865167033},{x:1577871e6,y:1.6995753195025232},{x:15778728e5,y:1.5946259998751464},{x:15778746e5,y:1.489144411460439},{x:15778764e5,y:1.4326888046093842},{x:15778782e5,y:1.3467562834780789},{x:157788e7,y:1.2940591354283133},{x:15778818e5,y:1.3047465235322107},{x:15778836e5,y:1.2818871648438146},{x:15778854e5,y:1.2082401146265274},{x:15778872e5,y:1.1707971195828337},{x:1577889e6,y:1.1191790678645948},{x:15778908e5,y:1.1144762942121402},{x:15778926e5,y:1.1261582132731403},{x:15778944e5,y:1.0758686058683464},{x:15778962e5,y:.8136966620170081},{x:1577898e6,y:.7521729174815699},{x:15778998e5,y:1.0434240321514605},{x:15779016e5,y:1.3879583287067045},{x:15779034e5,y:1.9155353618751558},{x:15779052e5,y:2.0083118081705598},{x:1577907e6,y:1.9482420795696302},{x:15779088e5,y:1.8482215814108518},{x:15779106e5,y:1.7322797732560766},{x:15779124e5,y:1.6274269141468867},{x:15779142e5,y:1.5381786882205106},{x:1577916e6,y:1.4800960053152175},{x:15779178e5,y:1.411709545277752},{x:15779196e5,y:1.2626961196149105},{x:15779214e5,y:1.1248384072016075}],ke=[{x:15778368e5,y:2.709844586573065},{x:15778386e5,y:2.8878219109487095},{x:15778404e5,y:2.8798320001179287},{x:15778422e5,y:2.7917759029293845},{x:1577844e6,y:2.5266084322825737},{x:15778458e5,y:2.352947624215641},{x:15778476e5,y:2.276940090207852},{x:15778494e5,y:2.232487466972644},{x:15778512e5,y:2.5944820703046485},{x:1577853e6,y:2.6621529943149413},{x:15778548e5,y:2.616454708040857},{x:15778566e5,y:2.5850528061943328},{x:15778584e5,y:2.6646340158369477},{x:15778602e5,y:2.744606608285467},{x:1577862e6,y:2.8375691815160975},{x:15778638e5,y:3.0081952935293743},{x:15778656e5,y:3.148770305803165},{x:15778674e5,y:3.1478307417540874},{x:15778692e5,y:3.0407461747379108},{x:1577871e6,y:2.91639813182492},{x:15778728e5,y:2.826494944077654},{x:15778746e5,y:2.743868882483429},{x:15778764e5,y:2.6764557381634795},{x:15778782e5,y:2.7329924230998954},{x:157788e7,y:2.795601130450559},{x:15778818e5,y:2.7278050988866593},{x:15778836e5,y:2.626549413327277},{x:15778854e5,y:2.6204388521631428},{x:15778872e5,y:2.5775128435168035},{x:1577889e6,y:2.5567206371501583},{x:15778908e5,y:2.553385062720019},{x:15778926e5,y:2.6103757100306946},{x:15778944e5,y:2.903334933954672},{x:15778962e5,y:3.65285201054937},{x:1577898e6,y:4.208063070719026},{x:15778998e5,y:4.349461576704627},{x:15779016e5,y:4.134122852105104},{x:15779034e5,y:3.5256306897853618},{x:15779052e5,y:3.268942804375568},{x:1577907e6,y:3.132732090172066},{x:15779088e5,y:3.0101105219101854},{x:15779106e5,y:2.8828382208442185},{x:15779124e5,y:2.726230902962259},{x:15779142e5,y:2.5717180669417314},{x:1577916e6,y:2.5513789209384665},{x:15779178e5,y:2.454662136138182},{x:15779196e5,y:2.2811386886446816},{x:15779214e5,y:2.215102595748247}];function mt(r){if(r===0)return 0;const e=Math.abs(r),n=Math.floor(Math.log10(e)),t=Math.pow(10,n),s=e/t,a=Math.ceil(s*4)/4*t;return r<0?-a:a}const ft=function(){const r=n=>{let t=!1,s=!1;const i=n.querySelector(".dropdown-label"),a=n.querySelector('[data-toggle="check-all"]'),o=Array.from(n.querySelectorAll('input[type="checkbox"]')),c=()=>{var m;const u=o.filter(l=>l.checked);if(s=!1,a.textContent="Check All",u.length===0)i.textContent="Select Sites to display on graph";else if(u.length===1){const l=((m=u[0].closest("label"))==null?void 0:m.textContent.trim())||"1 Selected";i.textContent=l}else u.length===o.length?(i.textContent="All Selected",s=!0,a.textContent="Uncheck All"):i.textContent=`${u.length} Selected`},h=u=>{o.forEach(m=>m.checked=u)},d=()=>{s?(h(!1),s=!1,a.textContent="Check All"):(h(!0),s=!0,a.textContent="Uncheck All"),c()},f=(u=!1)=>{if(console.log("toggle open"),!t||u){t=!0,n.classList.add("on");const m=l=>{n.contains(l.target)||(t=!1,n.classList.remove("on"),document.removeEventListener("click",m))};setTimeout(()=>document.addEventListener("click",m),0)}else t=!1,n.classList.remove("on")};c(),i.addEventListener("click",u=>{u.preventDefault(),f()}),a.addEventListener("click",u=>{u.preventDefault(),d()}),o.forEach(u=>{u.addEventListener("change",c)})};document.querySelectorAll('[data-control="checkbox-dropdown"]').forEach(r)};class xt{constructor(e){this.size=e,this.xBuffer=new Float64Array(e),this.yBuffer=new Float64Array(e),this.index=0,this.count=0}push(...e){for(const n of e){const{x:t,y:s}=n;this.xBuffer[this.index]=t,this.yBuffer[this.index]=s,this.index=(this.index+1)%this.size,this.count<this.size&&this.count++}}getHighestY(){return this.yBuffer.reduce((e,n)=>Math.max(e,n),0)}getValues(e=1){const n=[],t=this.count===this.size?this.index:0;for(let s=0;s<this.count;s++){const i=(t+s)%this.size;this.xBuffer[i]!=0&&n.push({x:this.xBuffer[i],y:this.yBuffer[i]*e})}return n}editRecent(e,n){if(e>=this.count)throw new RangeError("Not enough elements in buffer");const t=(this.index-1-e+this.size)%this.size;n.x!==void 0&&(this.xBuffer[t]=n.x),n.y!==void 0&&(this.yBuffer[t]=n.y)}getRecent(e){if(e>=this.count)throw new RangeError("Not enough elements in buffer");const n=(this.index-1-e+this.size)%this.size;return{x:this.xBuffer[n],y:this.yBuffer[n]}}}const V="https://home.harrylegg.co.uk/solar";let g={};const O={},N=[1,7,31,365],ie=[6e4,15*6e4,30*6e4,120*6e4],yt=document.getElementById("total"),gt=document.getElementById("daily"),pt=document.getElementById("week"),vt=document.getElementById("year"),wt=document.getElementById("explainTotals"),Et=document.getElementById("current"),bt=document.getElementById("bestProduction"),J=document.querySelector("#rank table tbody"),At=document.getElementById("explainRanks"),Ct=document.getElementById("generationInPeriod"),ze=document.getElementById("siteOverview"),X=document.getElementById("siteGraph"),St=document.getElementById("siteSelection"),K=document.getElementById("sites"),Lt=document.querySelector(".glide"),Ot={type:"carousel",focusAt:"center",perView:3},ae={element:document.getElementById("timeToUpdate"),element2:document.getElementById("timeToUpdateOption"),time:59.9,eta:Date.now()+6e4,interval:null,update:function(){this.time=Math.round((this.eta-Date.now())/100)/10,this.time<-3600&&window.location.reload(),this.element.textContent=this.time.toFixed(1),this.element2.textContent=this.time.toFixed(1);const{width:r,height:e}=this.element.getBoundingClientRect();this.element.style.left=`calc(50% - ${r/2}px)`,this.element.style.top=`calc(50% - ${e/2}px)`},start:function(){return this.interval===null&&(this.newEta(),this.interval=setInterval(()=>ae.update(),100)),this.interval},newEta:function(){this.eta=Date.now()+6e4}},Mt=document.querySelectorAll("[name=sort]"),Y=document.getElementById("demandGraph"),x={average:document.getElementById("legend_average"),end:document.getElementById("legend_end"),now:document.getElementById("legend_now"),min:document.getElementById("legend_min"),max:document.getElementById("legend_max"),summer:document.getElementById("legend_summer"),winter:document.getElementById("legend_winter"),std:document.getElementById("legend_std"),solar:document.getElementById("legend_solar"),max_value:{average:B.reduce((r,e)=>Math.max(r,e.y),0),min:Ne.reduce((r,e)=>Math.max(r,e.y),0),max:Be.reduce((r,e)=>Math.max(r,e.y),0),summmer:Oe.reduce((r,e)=>Math.max(r,e.y),0),winter:Me.reduce((r,e)=>Math.max(r,e.y),0),standard_deviation:ke.reduce((r,e)=>Math.max(r,e.y),0)}},Ee=A().valueOf(),I=new xt(3e3),Bt=document.getElementById("time"),Nt=document.getElementById("averageDemand"),kt=document.getElementById("percentOfDemand"),zt=[..."abcdefghijklmnopqrstuvwxyz"],It=new ResizeObserver(le),Dt=new ResizeObserver(G);It.observe(X);Dt.observe(Y);ce(ze,null,"closeSiteOverview");ce(wt,"explainTotalsLink","closeExplainTotals");ce(At,"explainRanksLink","closeExplainRanks");Xt();G();function G(){if(document.hidden)return;x.max_value.solar=I.getHighestY();const r=mt(Math.max(x.average.checked?x.max_value.average:0,x.solar.checked?x.max_value.solar:0,x.min.checked?x.max_value.min:0,x.max.checked?x.max_value.max:0,x.summer.checked?x.max_value.summmer:0,x.winter.checked?x.max_value.winter:0,x.std.checked?x.max_value.standard_deviation:0)),e=[{x:A(),y:0},{x:A().valueOf()+1,y:0}],n=x.solar.checked?I.getValues():e,t=[{x:Ee,y:r},{x:Ee+100,y:0}],s=[{x:A(),y:r},{x:A().valueOf()+100,y:0}],i={name:"Average Day",data:x.average.checked?B:e},a={name:"pageLoad",data:x.solar.checked&&x.end.checked?t:e},o={name:"Now",data:x.now.checked?s:e},c={name:"Average Summer",data:x.summer.checked?Oe:e},h={name:"Average Winter",data:x.winter.checked?Me:e},d={name:"Two Standard Deviations Below",data:x.std.checked?ke:e},f={name:"Two Standard Deviations Above",data:x.std.checked?dt:e},u={name:"Solar",data:n},m={name:"Lowest",data:x.min.checked?Ne:e},l={name:"Average Winter",data:x.max.checked?Be:e};Y.graph?Y.graph.update({series:[i,a,o,u,c,h,m,l,f,d]}):Y.graph=new Le("#demandGraph",{series:[i,a,o,u,c,h,m,l,f,d]},{axisX:{type:Se,divisor:12,labelInterpolationFnc:b=>new Date(b).toLocaleString(void 0,{hour:"numeric",minute:"numeric"})},axisY:{labelInterpolationFnc:b=>`${b} MW`}})}function le(){if(document.hidden)return;const r=document.querySelector('[name="period"]:checked');if(!(r!=null&&r.disabled)){const e=r==null?void 0:r.value;let n={};e<=1?(n.hour="numeric",n.minute="numeric",n.weekday="short"):e<=7?(n.weekday="short",n.day="numeric"):(e<=31,n.day="numeric",n.month="short");const t=[{x:Date.now()-1,y:0},{x:Date.now(),y:0}],s=[];Object.keys(O).length>0&&O[e.toString()].forEach(i=>{const a=i.name.replaceAll(" ","");document.querySelector("#"+a+"_checkbox").checked?s.push(i.data.map(o=>({x:o[0],y:o[1]}))):s.push(t)}),X.graph?X.graph.update({series:s}):X.graph=new Le("#siteGraph",{series:s},{axisX:{type:Se,divisor:12,labelInterpolationFnc:i=>new Date(i).toLocaleString(void 0,n)},axisY:{labelInterpolationFnc:i=>`${i}`}})}}function Pt(r){Bt.textContent=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});const e=Yt(Date.now());Nt.textContent=E(e*1e6),kt.textContent=(r/(e*10)).toFixed(2),G()}function Tt(){yt.textContent=E(g.total_kwh*1e3,!0),Et.textContent=E(g.current_w),gt.textContent=E(g.day_kwh*1e3,!0),pt.textContent=E(g.week_kwh*1e3,!0),vt.textContent=E(g.year_kwh*1e3,!0)}function Ie(){if(g.sites===null)return;const r=document.querySelector('input[name="sort"]:checked');let e="generation";switch(r&&(e=r.value),e){case"meter":g.sites.sort((n,t)=>t.today-n.today);break;case"max":g.sites.sort((n,t)=>t.max_percent-n.max_percent);break;case"generation":default:g.sites.sort((n,t)=>t.snapshot-n.snapshot);break}for(;J.firstChild;)J.firstChild.remove();g.sites.slice(0,6).forEach((n,t)=>{J.append(jt(t+1,n))})}function H(){const r=[];Object.keys(O).forEach(l=>{O[l][0].data&&r.push(l)});let n=null;document.querySelectorAll("[name='period']").forEach(l=>{r.includes(l.value)?(l.disabled=!1,l.parentElement.classList.remove("disabled"),n||(n=l)):(l.disabled=!0,l.checked=!1,l.parentElement.classList.add("disabled"))});let t=document.querySelector("[name='period']:checked");t||(t=n,n.checked=!0);const s=t===null?"1":t.value.toString(),i=Array.from(document.querySelectorAll(".dropdown-option:has([type=checkbox]:checked)")).map(l=>l.textContent),a=O[s.toString()][0].data,o=a.length,c=a[o-1],h=Date.now()-c[0];let d=36e5;switch(s){case"7":d=3*36e5;break;case"31":case"365":d=6*36e5;break}h>d&&Rt(s);let f=0,u=0,m="";O[s].forEach(l=>{i.indexOf(l.name)>=0&&(f+=l.generation_in_period,l.max>u&&(u=l.max,m=l.name))}),Ct.textContent=E(f*1e3,!0),bt.textContent=`${m} with ${E(u)}`,le()}document.addEventListener("DOMContentLoaded",()=>{const r=new EventSource(`${V}/sse`);r.addEventListener("message",e=>{var n;g=JSON.parse(e.data),g.sites&&g.sites.length&&g.sites.forEach(t=>{t.max_percent=t.snapshot/t.max*100}),K.firstElementChild?(ae.newEta(),g.sites.forEach((t,s)=>{const i=t.name.replaceAll(" ","");K.querySelectorAll(`.${i}-snapshot`).forEach(a=>{a.textContent=E(t.snapshot)})}),I.push({x:A(),y:g.current_w/1e6})):(ae.start(),((n=g.sites)==null?void 0:n.length)>0&&g.sites.sort((i,a)=>a.snapshot-i.snapshot).forEach((i,a)=>{K.append(_t(i)),St.append(Gt(i.name,zt[a])),$t(Lt)}),new Glide(".glide",Ot).mount(),document.querySelectorAll(".site-card span.name").forEach(s=>{s.addEventListener("click",De)}),ft(),document.querySelectorAll("[name='selectedSites']").forEach(s=>{s.addEventListener("change",Ft)}),Pe(0)),Ie(),Tt(),Pt(parseFloat(g.current_w)/1e3)}),window.addEventListener("beforeunload",()=>{r.close()})});document.querySelectorAll('[name="period"]').forEach(r=>{r.addEventListener("change",qt)});Mt.forEach(r=>{r.addEventListener("click",()=>{Ie()})});document.querySelectorAll("[name=legend]").forEach(r=>{r.addEventListener("input",G)});document.getElementById("selectAllSites").addEventListener("click",()=>{setTimeout(H,0)});function jt(r,e){const n=document.createElement("tr"),t=document.createElement("td"),s=document.createElement("td"),i=document.createElement("td"),a=document.createElement("td"),o=document.createElement("td");t.textContent=r;const c=document.createElement("a");return c.textContent=e.name,c.classList.add("name"),c.addEventListener("click",De),s.append(c),i.textContent=E(e.snapshot),a.textContent=E(e.today*1e3,!0),o.textContent=e.max_percent.toFixed(2)+"%",n.append(t,s,i,a,o),n}function _t(r){const e=document.createElement("li");e.classList.add("site-card","glide__slide");const n=document.createElement("img"),t=document.createElement("span");t.classList.add("name");const s=document.createElement("picture"),i=document.createElement("source"),a=`/imgs/${r.name}.png`;i.setAttributeNS(null,"src",a),i.setAttributeNS(null,"type","image/png"),n.src="/imgs/Canopy.svg",t.textContent=r.name,t.setAttributeNS(null,"data-name",r.name);const o=document.createElement("span");o.classList.add("generation-total");const c=r.name.replaceAll(" ","");return o.classList.add(`${c}-snapshot`),o.textContent=E(r.snapshot),s.append(i,n),e.append(s,t,o),e}function Gt(r,e){const n=document.createElement("label");n.textContent=r,n.classList.add("dropdown-option",`ct-series-${e}`);const t=document.createElement("input"),s=r.replaceAll(" ","");return t.id=s+"_checkbox",n.setAttribute("for",s+"_checkbox"),t.name="selectedSites",t.type="checkbox",n.append(t),n}function $t(r){const e=r.querySelector(".glide__bullets"),n=e.children.length,t=document.createElement("button");t.classList.add("glide__bullet"),t.setAttributeNS(null,"data-glide-dir",`=${n}`),e.append(t)}function ce(r,e,n){var t,s;r.show=()=>r.classList.remove("display-none"),r.close=()=>r.classList.add("display-none"),e!=null&&((t=document.getElementById(e))==null||t.addEventListener("click",r.show)),n!=null&&((s=document.getElementById(n))==null||s.addEventListener("click",r.close))}function Ft(){H()}function qt(){H()}function De(r){const e=r.currentTarget.textContent.replaceAll(" ","");document.getElementById(e+"_checkbox").setAttribute("checked","checked"),H(),ze.show()}function Rt(r){const e=`${V}/site/all/${r}`;fetch(e).then(n=>{n.json().then(t=>{t.length>0&&(t.forEach(s=>{if(s.data){let i=N.indexOf(Number(r));i<0&&(i=ie.length-1);const a=ie[i]*10;let o=[];const c=s.data[0];c[0]*=1e3;const d=Date.now().valueOf()-(864e5*N[i]-a/5);c[0]>d&&(o.push([d,0]),o.push([c[0]-1,0])),o.push(c);let f=s.data[0];for(let u=1;u<s.data.length;u++){const m=s.data[u],l=f[0]*1e3,b=m[0]*1e3;b-l>a&&(o.push([l+1,0]),o.push([b-1,0])),o.push([b,m[1]]),f=m}s.data=o}}),O[r.toString()]=t,le())})})}function Pe(r){const e=`${V}/site/all/${N[r]}`;fetch(e).then(n=>{n.json().then(t=>{t.length>0&&(t.forEach(s=>{if(s.data){const i=ie[r]*10;let a=[];const o=s.data[0];o[0]*=1e3;const h=Date.now().valueOf()-(864e5*N[r]-i/5);o[0]>h&&(a.push([h,0]),a.push([o[0]-1,0])),a.push(o);let d=s.data[0];for(let f=1;f<s.data.length;f++){const u=s.data[f],m=d[0]*1e3,l=u[0]*1e3;l-m>i&&(a.push([m+1,0]),a.push([l-1,0])),a.push([l,u[1]]),d=u}s.data=a}}),O[N[r].toString()]=t,document.querySelector(`[name='period'][value='${N[r]}']`).disabled=!1,r++,r<N.length&&Pe(r))})})}function Xt(){fetch(`${V}/site/all`).then(r=>{r.json().then(e=>{var n;if(((n=e.values)==null?void 0:n.length)>0){I.push(...e.values.map(i=>({x:A(i[0]*1e3).valueOf()-15*60*1e3,y:parseFloat(i[1]/1e6)})));const t=I.getRecent(1).x+15*60*1e3,s=t+(A().valueOf()-t)/2;I.editRecent(0,{x:s}),G()}})})}function Yt(r){const e=A(r);let n=0;for(;n<B.length&&e.valueOf()>new Date(B[n].x).valueOf();)n++;if(n==0)return B[n].y;const t=B[n-1].y,s=B[n].y,i=e.getMinutes(),a=i<30?i:i-30,o=(s-t)/30;return t+a*o}function A(r=Date.now()){return new Date(`1 jan 2020 ${new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`)}function E(r,e=!1){const n=["W","kW","MW","GW"];let t=0,s=r;for(;s>=1e3&&t<n.length-1;)s/=1e3,t++;return`${s.toFixed(2)} ${n[t]}${e?"h":""}`}
